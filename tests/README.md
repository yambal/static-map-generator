# Tests & Demos for Static Map Generator

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Static Map Generatorãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ãƒ¢ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- `simple-test.js` - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åŸºæœ¬æ§‹é€ ãƒ†ã‚¹ãƒˆï¼ˆä¾å­˜é–¢ä¿‚ä¸è¦ï¼‰
- `test-await.js` - awaitã‚’ä½¿ã£ãŸç”»åƒç”Ÿæˆãƒ†ã‚¹ãƒˆ
- `zoom-test.js` - å„ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ã®ãƒ†ã‚¹ãƒˆ

### ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«
- `generate-image-demo.js` - åŸºæœ¬çš„ãªåœ°å›³ç”»åƒç”Ÿæˆãƒ‡ãƒ¢
- `bounds-demo.js` - å¢ƒç•ŒæŒ‡å®šã«ã‚ˆã‚‹è‡ªå‹•è¨ˆç®—ãƒ‡ãƒ¢

## ğŸš€ å®Ÿè¡Œæ–¹æ³•

### 1. äº‹å‰æº–å‚™
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ
npm install
npm run build
```

### 2. ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ¢ã®å®Ÿè¡Œ

#### åŸºæœ¬æ§‹é€ ãƒ†ã‚¹ãƒˆï¼ˆä¾å­˜é–¢ä¿‚ä¸è¦ï¼‰
```bash
node tests/simple-test.js
```

#### å®Ÿéš›ã®ç”»åƒç”Ÿæˆãƒ†ã‚¹ãƒˆ
```bash
# åŸºæœ¬çš„ãªç”»åƒç”Ÿæˆ
node tests/generate-image-demo.js

# å¢ƒç•ŒæŒ‡å®šãƒ‡ãƒ¢
node tests/bounds-demo.js

# ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ãƒ†ã‚¹ãƒˆ
node tests/zoom-test.js

# awaitãƒ†ã‚¹ãƒˆ
node tests/test-await.js
```

## ğŸ“Š å‡ºåŠ›çµæœ

å…¨ã¦ã®ç”»åƒç”Ÿæˆãƒ†ã‚¹ãƒˆã®å‡ºåŠ›ã¯ `tests/output/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

```
tests/output/
â”œâ”€â”€ tokyo-demo.png
â”œâ”€â”€ simple-demo.png
â”œâ”€â”€ hd-demo.png
â”œâ”€â”€ bounds-tokyo-area.png
â”œâ”€â”€ bounds-yamanote.png
â”œâ”€â”€ bounds-kanto.png
â”œâ”€â”€ bounds-tokaido.png
â”œâ”€â”€ zoom-8.png
â”œâ”€â”€ zoom-12.png
â”œâ”€â”€ zoom-15.png
â”œâ”€â”€ zoom-18.png
â”œâ”€â”€ test-await-result.png
â””â”€â”€ test-case-*.png
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆã®å†…å®¹

### simple-test.js
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿ç¢ºèª
- StaticMapã‚¯ãƒ©ã‚¹ã®åŸºæœ¬æ©Ÿèƒ½ç¢ºèª
- å¢ƒç•ŒæŒ‡å®šæ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- ä¾å­˜é–¢ä¿‚ãªã—ã§å®Ÿè¡Œå¯èƒ½

### generate-image-demo.js
- åŸºæœ¬çš„ãªåœ°å›³ç”Ÿæˆï¼ˆæ±äº¬é§…ä¸­å¿ƒï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«ãªåœ°å›³ç”Ÿæˆ
- é«˜è§£åƒåº¦åœ°å›³ç”Ÿæˆï¼ˆscale: 2ï¼‰

### bounds-demo.js
- æ±äº¬éƒ½å¿ƒã‚¨ãƒªã‚¢ã®å¢ƒç•ŒæŒ‡å®š
- å±±æ‰‹ç·šå†…å´ã‚¨ãƒªã‚¢ã®å¢ƒç•ŒæŒ‡å®š
- é–¢æ±åºƒåŸŸã‚¨ãƒªã‚¢ã®å¢ƒç•ŒæŒ‡å®š
- ç¸¦é•·ã‚¨ãƒªã‚¢ã®ãƒ†ã‚¹ãƒˆï¼ˆæ±æµ·é“ï¼‰

### zoom-test.js
- è¤‡æ•°ã®ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ï¼ˆ8, 12, 15, 18, 20ï¼‰
- å„ã‚ºãƒ¼ãƒ ã§ã®ç”»åƒç”Ÿæˆãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ï¼ˆzoom 20ï¼‰ã®ãƒ†ã‚¹ãƒˆ

### test-await.js
- async/awaitã§ã®ç”»åƒãƒãƒƒãƒ•ã‚¡ãƒ¼å–å¾—ãƒ†ã‚¹ãƒˆ
- ãƒãƒƒãƒ•ã‚¡ãƒ¼ã®è©³ç´°æƒ…å ±ç¢ºèª
- è¤‡æ•°ã®ç”»åƒç”Ÿæˆãƒ†ã‚¹ãƒˆ

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: "Cannot find module '../dist/index'"
```bash
npm run build
```

### ã‚¨ãƒ©ãƒ¼: "Failed to fetch tile"
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèª
- OpenStreetMapã‚µãƒ¼ãƒãƒ¼ã®çŠ¶æ…‹ã‚’ç¢ºèª

### ã‚¨ãƒ©ãƒ¼: Canvasé–¢é€£
```bash
npm install canvas
```

## ğŸ’¡ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

å„ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚è€ƒã«ã—ã¦ã€ç‹¬è‡ªã®åœ°å›³ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã§ãã¾ã™ï¼š

```javascript
const { StaticMap } = require('../dist/index');

async function myCustomMap() {
  const map = new StaticMap({
    center: { lat: YOUR_LAT, lng: YOUR_LNG },
    zoom: YOUR_ZOOM,
    size: { width: YOUR_WIDTH, height: YOUR_HEIGHT },
    markers: [/* your markers */]
  });
  
  const buffer = await map.render();
  // ç”»åƒå‡¦ç†...
}
```

## ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‚è€ƒå€¤

- **å°ã•ã„åœ°å›³** (200x200): ~1-2ç§’
- **æ¨™æº–åœ°å›³** (800x600): ~2-5ç§’  
- **é«˜è§£åƒåº¦** (1600x1200): ~5-10ç§’

â€»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€Ÿåº¦ã¨ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ã«ä¾å­˜